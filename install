#!/bin/bash
set -e

# Initialize git submodules to retrieve scripts.
git submodule update --init --recursive || { echo "Error initializing git submodules"; exit 1; }

REPOS_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" &> /dev/null && pwd)"
SCRIPT_DIR="$REPOS_DIR/scripts"
source "$SCRIPT_DIR/logs"
source "$SCRIPT_DIR/utils"

# Help option
if [[ "$1" == "--help" ]]; then
    echo "Usage: install [--help]"
    echo "This script installs dependencies and sets up configuration directories."
    echo "It initializes git submodules, installs necessary tools, and sets up the environment."
    exit 0
fi

# Call the install script
source "$SCRIPT_DIR/install"

# Call the setup script
source "$SCRIPT_DIR/setup"

exit 0
